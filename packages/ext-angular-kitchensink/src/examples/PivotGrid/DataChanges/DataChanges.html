<ext-container layout="fit" padding="10" [fitToParent]="true">
    <ext-toolbar
        shadow="false"
        docked="top"
        ui="app-transparent-toolbar"
        padding="5 8"
        [layout]="{
            type: 'hbox',
            align: 'stretch'
        }"
        [defaults]="{
            margin: '0 10 0 0',
            shadow: true,
            ui: 'action'
        }"
    >
        <ext-button text="Change data">
            <ext-menu>
                <ext-menuitem
                    text="Add"
                    iconCls="x-fa fa-plus"
                    [handler]="this.addData"
                ></ext-menuitem>
                <ext-menuitem
                    text="Update"
                    iconCls="x-fa fa-edit"
                    [handler]="this.updateData"
                ></ext-menuitem>
                <ext-menuitem
                    text="Remove"
                    iconCls="x-fa fa-minus"
                    [handler]="this.removeData"
                ></ext-menuitem>
                <ext-menuitem
                    text="Clear all"
                    iconCls="x-fa fa-trash"
                    [handler]="this.clearData"
                ></ext-menuitem>
            </ext-menu>
        </ext-button>
    </ext-toolbar>

    <ext-pivotgrid
        [shadow]="true"
        [matrix]="{
            type: 'local',
            store: this.store,
            aggregate: [
                {
                    dataIndex: 'value',
                    header: 'Total',
                    aggregator: 'sum'
                },
                {
                    dataIndex: 'value',
                    header: 'Count',
                    aggregator: 'count'
                }
            ],
            leftAxis: [
                {
                    dataIndex: 'year',
                    header: 'Year'
                },
                {
                    dataIndex: 'person',
                    header: 'Person'
                }
            ],
            topAxis: [
                {
                    dataIndex: 'country',
                    header: 'Country'
                }
            ]
        }"
    >
    </ext-pivotgrid>
</ext-container>
